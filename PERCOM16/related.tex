\section{Related work}

 Carbon emissions from passenger cars are closely linked to fuel consumption, as the primary source of carbon dioxide is the combustion of hydrocarbons. To model the fuel consumption from  data from smartphones, we need to establish a correlation between the observed data, and the consumed fuel. We provide an overview of existing methods for modelling fuel consumption via instrumenting vehicles or modelling best on standardised driving cycles.

In \cite{hilpert201} the authors propose a real time data gathering system and model based on On Board Diagnostics system (OBD2). From the data gathered, emissions from the vehicle and a product carbon footprint are calculated, by a simple relation between airflow into the engine, the stoichiometric fuel to air ratio, and the carbon dioxide emission factor for gasoline/diesel. No actual data are reported. For the old car we used in the experiment, the OBD2 option was not available. 

For detection and analysing of driving styles for prevention of car crashes, the authors in \cite{Johnson2011} make use of sensor fusion of sensors from smartphones, and data obtained from the internal CAN \footnote{"controller area network", an intra vehicle network standard ISO 11898} bus in cars. The authors show that it is possible to accurately detect driving events and to classify the aggressiveness of the driver from the used sensor. We want to be able to determine turns as well as the agresiveness of accelerating and braking event.

Models for the emission from gasoline cars are evaluated in \cite{Silva2006}, by combining simulation with measurements done with a combination of data from the OBD2 \footnote{OnBoard Diagnostic 2, a standard for communication between vehicle test equipment and vehicle}, and sensors placed in the tail pipe. Three different numerical models were compared to the measurements. The same instrument setup (OBD2 and tailpipe sensors were used in \cite{Frey}, where the goal was to estimate emission factors for different driving modes. One conclusion is that the emission pattern for cold start driving is significantly different from steady state driving. As our experiment is designed to be able to model the most used driven patterns, we have focused on warm engine mode of operation, thus we perform a warm up drive before the actual test run.

The paper \cite{Lee2010} provides an overview of different projects using mobile sensing platforms. The paper is mostly concerned with network topologies for mobile sensor network and backend support for data storage and retrieval, but also has some input on different sensors used.

In \cite{Boriboon} the effects of the road grade (road inclination) on fuel consumption is investigated, through the use of OBD2 measurements and models. Two different routes between a Origin-Destination pair (one route through a flat area, and one through a mountain pass) are compared in multiple trips. The fuel consumption is determined from a binary fuel cut signal from the OBD2 data, and compared to fuel consumption modelled by CMEM (comprehensive modal emission model). We have chosen to focus on a flat course, in order not to have the road grade as a consideration. We have also chosen to use a single course with the same point as start and finish, as our test course.

For using accelerometers to determine transportation modes \cite{Hemminki2013} gives an overview of methods, applications and problems. Examples of how to use Hidden Markov Models classifiers to discern between different transportation modes are given. \cite{mun_peir_2009} adds a personalized environmental impact report generated from mobile sensed data. Where these papers focus on transportation modes, ie. which kind of transportation, we focus on how the driving is performed.

The authors in \cite{markus2014} give an example of discerning electric vehicles from combustion engine vehicles, by using accelerometer data to measure the revolutions of combustion engine in idle mode. In idle mode electric vehicles do not have a turning engine. The paper shows how signal analysis combined with classifiers can detect vehicle differences from engine vibrations. The paper also shows that noise when cars are driving makes engine detection hard.

To monitor road condition the authors of \cite{ghose2012road} proposes to use the accelerometer to measure road quality and if pot holes are detected to alert at what position the pot hole is located.

Development and yearly reporting of national emission inventories was agreed on in the terms of the Kyoto protocol. This has led to the development of rigorous models and protocols for reporting the total national emission. To be able to make detailed reports of the transportation related emissions the COPERT \footnote{http://emisia.com/copert} \cite{Mellios2011} program was developed as a European transport emission model.

To test the long-term impact of Eco-driver training the authors of \cite{beusen2009using} used GPS and OBD2 to get information on engine RPM and other engine parameters. This information was used to model some driving modes,as accelerating, braking and at which RPM gear shifts were performed.

In the mentioned papers a cross section of methods and tools for estimation of fuel consumption and emission from light duty vehicles and passenger cars is presented. The tools used in the papers are OBD2, GPS and tail pipe emission sensors. The methods used are controlled driving cycles, simulation models, classifiers and sensor fusion.

There is also a host of commercial and free apps offering driving style analysis directly on your smartphone. An example is goDriveGreen\footnote{https://itunes.apple.com/us/app/godrivegreen/id411510594}
 
The work in this paper extends and complements the work in the above mentioned papers, by using measurements from smartphone accelerometers and by controlled measurement of fuel consumption, and by exploring a different classifier than presented in the above papers. This work can be used for vehicles that do not have an OBD2 connector and cannot be instrumented with mass flow meters for measuring fuel consumption as in \cite{haan2000,Honicky}

